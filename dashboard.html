<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dashboard VOKA</title>
  <link rel="stylesheet" href="style.css">
  <style>
    @keyframes pulse {
      0% { transform: scale(1); opacity: 0.8; }
      50% { transform: scale(1.1); opacity: 1; }
      100% { transform: scale(1); opacity: 0.8; }
    }
    .locked {
      opacity: 0.4;
      cursor: not-allowed;
    }
  </style>
</head>
<body class="dark-mode">

<!-- LOGIQUE JS : rÃ©cupÃ¨re nom, forfait et logo -->
<script>
  const nomEntreprise = localStorage.getItem("nomEntreprise") || "Entreprise X";
  const forfait = localStorage.getItem("forfait") || "Signature";
  const logo = localStorage.getItem("logo");

  const profilNom = document.getElementById("profil-nom");
  if (profilNom) profilNom.textContent = nomEntreprise;

  const profilForfait = document.getElementById("profil-forfait");
  if (profilForfait) profilForfait.textContent = forfait;

  const logoImg = document.getElementById("profil-logo");
  if (logoImg && logo) {
    logoImg.src = logo;
  }
</script>

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="sidebar-logo">
    <img src="logo-voka.png" alt="Logo VOKA" style="width: 100px;"><br>
    <span style="color: white; font-size: 0.75em; display: block; margin-top: 5px;">Donnez une voix Ã  votre succÃ¨s</span>
  </div>
  <nav class="sidebar-nav">
    <button class="tab-button" data-tab="visionnaire">VOKA Visionnaire</button>
    <button class="tab-button" data-tab="cfo">VOKA CFO</button>
    <button class="tab-button" data-tab="crm">VOKA CRM</button>
    <button class="tab-button" data-tab="video">VOKA VidÃ©o</button>
    <button class="tab-button" data-tab="bots">VOKA Bots</button>
    <button class="tab-button" data-tab="tunnel">VOKA Tunnel</button>
    <button class="tab-button" data-tab="calendrier">VOKA Calendrier</button>
    <button class="tab-button" data-tab="ressources">VOKA Ressources</button>
    <button class="tab-button" data-tab="temoignage">VOKA TÃ©moignage</button>
    <button class="tab-button locked" data-tab="boutique" disabled>ðŸ”’ VOKA Boutique</button>
    <button class="tab-button" data-tab="fondation">Fondation William</button>
  </nav>
</aside>

<!-- CONTENU PRINCIPAL -->
<main class="main-content">

  <!-- PROFIL -->
  <div class="profil-client">
    <div class="profil-logo" onmouseover="document.querySelector('.profil-menu').style.display='block'" onmouseout="document.querySelector('.profil-menu').style.display='none'">
      <img id="profil-logo" src="logo-voka.png" alt="Logo client" style="width:40px; border-radius:50%;"><br>
      <div class="profil-menu">
        <p><strong id="profil-nom">Entreprise X</strong></p>
        <p id="profil-forfait" style="color: lightgray; font-size: 0.8em;">Signature</p>
        <a href="#">Profil</a><br>
        <a href="#">Facturation</a>
      </div>
    </div>
  </div>

  <!-- PROGRESSION -->
  <div class="progress-bar">
    <svg width="100" height="100">
      <circle class="bg" cx="50" cy="50" r="45"></circle>
      <circle class="progress" cx="50" cy="50" r="45" stroke-dasharray="282" stroke-dashoffset="100"></circle>
    </svg>
    <p>Ã‰volution</p>
  </div>

  <!-- CONTENU DYNAMIQUE -->
  <section id="tab-content">
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 70vh;">
      <img src="logo-voka.png" alt="Logo VOKA" style="width: 180px; animation: pulse 2s infinite;">
      <p style="color: white; margin-top: 20px; font-size: 1.2em;">SÃ©lectionne un onglet Ã  gauche pour commencer.</p>
    </div>
  </section>
</main>

<!-- JS POUR CHARGEMENT DYNAMIQUE DES ONGLETS -->
<script>
  const buttons = document.querySelectorAll(".tab-button");
  const content = document.getElementById("tab-content");

  buttons.forEach(btn => {
    if (!btn.disabled) {
      btn.addEventListener("click", () => {
        buttons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        const tab = btn.getAttribute("data-tab");

        fetch(tab + ".html")
          .then(res => res.text())
          .then(html => {
            content.innerHTML = html;
          })
          .catch(() => {
            content.innerHTML = "<h2>" + btn.innerText + "</h2><p>Contenu de lâ€™onglet Â« " + tab + " Â» Ã  venir.</p>";
          });
      });
    }
  });
</script>

</body>
</html>
